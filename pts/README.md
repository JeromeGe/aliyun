# 压力测试

压力测试是指模拟大量 HTTP 请求来压测站点，了解站点在高压力下的 tps 、响应时间、成功率等指标，以此来：

- 测试站点是否能满足预估的并发需求。
- 寻找站点瓶颈并优化，确保可以平稳地应对业务峰值。

联合利华使用阿里云性能测试服务（PTS）来做压力测试，请参考 <https://help.aliyun.com/document_detail/29262.html?spm=5176.7739048.6.539.JKspQz> 。

需要压力测试的项目需要 Agency 提供：

- 压力测试脚本文件：
    - [如何编写脚本](https://help.aliyun.com/document_detail/54843.html?spm=5176.2020520153.0.0.782dd422uofHXJ)
    - 脚本应该可以请求到业务场景的主要路径，尤其是压力可能较大的部分。纯静态页面没必要压测。
    - 若脚本需要配合参数文件，请和脚本文件放同一个目录中，命名为 `params.csv` ，文件格式请参考 <https://help.aliyun.com/document_detail/54855.html?spm=5176.2020520153.104.1.22f9c2c4pahst> 。
    - 测试中如果会产生垃圾数据，请在测试完毕后清除，避免影响正常访问。
    - 如有多个脚本请放在不同的文件夹，以测试场景命名。
    - 请自行注册阿里云账号测试脚本，确保脚本可正确运行。
- 单次测试场景（以下两种二选一）
    - 常规模式
        - 并发用户数
        - 施压机数量
        - 测试开始时间
        - 持续时间
    - 梯度模式
        - 初始并发用户数
        - 最终并发用户数
        - 每隔多久增加多少用户
        - 施压机数量
        - 测试开始时间
        - 持续时间

压力测试后会提供测试报告截图。
